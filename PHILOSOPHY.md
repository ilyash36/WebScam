Философия проекта автосервиса
1. Миссия и видение
Этот проект — цифровой «мозг» автосервиса: он ведёт клиентов, их автомобили, работы, запчасти, деньги и коммуникации, а люди занимаются только тем, что требует человеческого решения.

Сначала система выглядит как современный сайт‑витрина и простой личный кабинет, но под капотом сразу закладывается полноценная CRM‑платформа, готовая к интеграциям и автоматизации (n8n, боты, сервисы напоминаний и т.д.).

Цель — чтобы владелец и команда не «горели» на ручной рутине, не теряли клиентов и всегда видели реальную картину по бизнесу в пару кликов.

2. Этапы развития продукта
Cursor должен всегда помнить, что проект развивается по этапам, но архитектура с самого начала должна выдерживать рост:

Этап «Сайт и витрина»

Лендинг/сайт автосервиса с описанием услуг, цен и преимуществ.

Формы записи, обратной связи и заявки на расчёт.

Базовый личный кабинет клиента (история обращений, статусы, документы) — даже если часть функций пока «заглушки», структура уже закладывается.

Этап «CRM и учёт»

Модели данных и интерфейсы для клиентов, автомобилей, заказ‑нарядов, запчастей, оплат, задач.

Внутренние кабинеты для мастера, администратора, бухгалтера и владельца.

Отчёты: выручка, загрузка, маржа, повторные обращения, эффективность каналов привлечения.

Этап «Автоматизация и боты»

Интеграция с n8n как основным оркестратором бизнес‑процессов (рассылки, напоминания, синхронизация с внешними сервисами).

Подключение ботов: Telegram/WhatsApp/чат на сайте для записи, статусов заказов, отзывов, отзывов и повторных продаж.

Автоматизация маркетинга и сервиса (напоминания о ТО, акции, возврат «уснувших» клиентов, сбор отзывов).

На каждом этапе Cursor должен проектировать так, чтобы следующий этап был естественным развитием, а не «переписываем всё с нуля».

3. Доменная модель и данные
Cursor обязан мыслить через доменные сущности автосервиса и держать их неизменяемым «скелетом» проекта:

Клиент: контактные данные, канал привлечения, согласия на коммуникацию, история взаимодействий.

Автомобиль: марка, модель, VIN, госномер, пробег, принадлежность клиенту, история работ и рекомендаций.

Обращение / заказ‑наряд: жалоба клиента, диагностика, список работ, запчасти, ответственный мастер, статус, сроки, согласования.

Запчасть и склад: артикул, поставщик, цена закупки/продажи, остатки, аналоги.

Финансы: счета, оплаты, скидки, задолженности, себестоимость, маржа по заказу и по клиенту.

Коммуникация: звонки, письма, сообщения в мессенджерах, пуш‑уведомления, рассылки.

Напоминания и события: плановое ТО, рекомендации после ремонта, просроченные заказы, долги, акции.

Любая новая сущность должна проверяться: не дублирует ли она уже существующее понятие и вписывается ли в эту модель.

4. Работа с клиентами и сервисом
Принципы, которые Cursor должен закладывать в каждую функцию, связанную с клиентами:

Каждый клиент и автомобиль должны быть найдены по одному‑двум действиям; никаких «анонимных» обращений, если можно привязать к существующим данным.

Вся история по клиенту и машине — обращения, работы, рекомендации, письма, платежи, отзывы — должна быть видна в одном месте.

Система должна помогать не забывать: автоматические напоминания о ТО, «вернись к нам»‑кампании, напоминания о неоплаченных работах, запросы отзывов после визита.

Любая функция, которая улучшает опыт клиента (понятные статусы, быстрые ответы, прозрачные сметы), имеет высокий приоритет.

5. Архитектура: ядро, интеграции, автоматизация
Ядро проекта — собственный backend и БД: все ключевые данные и бизнес‑логика живут здесь, а не в n8n или ботах.
​

n8n рассматривается как внешний оркестратор сценариев: он вызывает API ядра, реагирует на события и выполняет цепочки действий (отправка сообщений, генерация документов, интеграции с третьими сервисами).

Боты и фронтенд — тонкие клиенты: они не содержат «умной» логики, а только отображают данные и проксируют действия пользователя в API.

Всё проектируется событийно: важные изменения (создан заказ‑наряд, закрыт ремонт, просрочен срок, клиент не ответил, поступила оплата) генерируют события, которые можно подписать в n8n.

6. Правила для Cursor как «разработчика»
Cursor — это аккуратный middle‑разработчик, а не экспериментатор. Любое изменение должно уважать существующую архитектуру, правила и структуру проекта.

Перед генерацией кода Cursor обязан уточнять:

какую бизнес‑проблему решает модуль;

какие сущности и таблицы он трогает;

какие внешние сервисы участвуют (сайт, боты, n8n, поставщики).

Весь новый код должен:

быть типизирован (если язык поддерживает типы);

содержать минимально необходимые проверки и обработку ошибок;

иметь понятные имена сущностей, полей и файлов, согласованные с доменной моделью.

Любой модуль сопровождается коротким описанием (в начале файла или в README): что делает, какие эндпоинты/события экспортирует, какие события слушает.

7. Интерфейс и UX
Сайт и личные кабинеты должны быть простыми: минимум кликов до ключевого действия (записаться, посмотреть статус, оплатить, связаться).

Для сотрудников приоритет — скорость работы: быстрый поиск по клиентам и авто, фильтры по статусам заказ‑нарядов, быстрые шаблоны работ и запчастей.

В интерфейсе не должно быть «лишних» полей и сложных форм, которые владелец и мастера всё равно не будут заполнять. Если поле не помогает бизнес‑решениям или отчётности — его не добавляем.

Все статусы и действия формулируются человеческим языком: вместо «PENDING» — «Ожидает согласования», вместо «CLOSED» — «Работы завершены, заказ закрыт».

8. Интеграции, боты и n8n
Каждый новый сценарий автоматизации сначала описывается как чёткая бизнес‑цепочка: «что является триггером → какие данные нужны → какие действия выполняются → какой результат видит клиент/сотрудник».

Cursor при разработке API и событий обязан учитывать удобство использования в n8n:

простые JSON‑структуры без лишней вложенности;

стабильные названия полей;

очевидные коды ошибок.

Боты создаются как расширение уже существующего ядра: они не дублируют логику, а используют те же API, что и сайт/админка.

Любая интеграция должна быть отключаемой: при временном отключении n8n или бота базовый функционал CRM и сайта не должен ломаться.

9. Качество, безопасность и надёжность
Данные важнее всего: валидация входов, защита от дубликатов клиента и автомобиля, аккуратные миграции БД, резервное копирование.

Прав доступа: роли (владелец, админ, мастер, бухгалтер, маркетолог, бот) и минимально необходимые права для каждой.

Логирование и аудит: все важные действия (создание/изменение/удаление ключевых сущностей, входы пользователя, интеграционные ошибки) фиксируются и могут быть просмотрены.

Безопасность по умолчанию: защита API, хранение секретов вне кода, шифрование чувствительных данных там, где это оправдано.

10. Эволюция и принятие решений
Любое новое предложение (фича, сущность, интеграция) оценивается по трём вопросам:

экономит ли это время владельцу/команде;

уменьшает ли количество ошибок/потерь клиентов;

улучшает ли понимание того, как работает бизнес (отчётность, аналитика).

Если ответ «нет» хотя бы на два из трёх вопросов — фича уходит в бэклог без реализации.

Если есть выбор между «красиво по архитектуре, но непонятно бизнесу» и «чуть проще, но прозрачно и управляемо для владельца» — приоритет у второго варианта.

Проект должен оставаться расширяемым: новые сервисы, каналы связи, типы услуг и сценарии должны добавляться без переписывания ядра.